replicaCount: 1

# Template mode - when true, adds "datafold.com/dma-type: template" label
isTemplate: false

prefix: ""

image:
  repository: us-docker.pkg.dev/datadiff-mm/datafold/dmadev
  pullPolicy: IfNotPresent
  tag: "latest"

imagePullSecrets:
  - name: datafold-docker-secret

nameOverride: ""
fullnameOverride: ""
terminationGracePeriodSeconds: "30"

serviceAccount:
  create: true
  automount: true
  annotations: {}
  roleArn: ""
  name: "datafold-dma"

jobServiceAccount:
  create: true
  automount: true
  annotations: {}
  name: "datafold-jobs"

podAnnotations: {}
podLabels: {}

podSecurityContext:
  runAsUser: 0
  runAsNonRoot: false

securityContext:
  allowPrivilegeEscalation: false

service:
  type: ClusterIP
  port: 9999 # Bogus port for headless service

resources:
  limits:
    memory: 30Gi
  requests:
    cpu: 100m
    memory: 30Gi

storage:
  storageClass: "sc-datafold-aws"
  accessMode: ReadWriteOnce
  size: 200Gi
  mountPath: /data

volumes: []
volumeMounts: []

nodeSelector: {}
tolerations: []
affinity: {}

dma:
  ssh:
    port: 2222
    username: "datafold"
  use_bedrock: "1"
  bedrock_region: "us-east-1"
  anthropic_model: ""
  anthropic_small_fast_model: ""
  disable_prompt_caching: "0"
  claude_max_output_tokens: "32768"
  claude_max_thinking_tokens: "1024"
  claude_mcp_timeout: "50000"
  claude_max_mcp_output_tokens: "30000"

# ConfigMap to load environment variables from
configMapName: "datafold-config"

# Custom environment variables for DMA pod only
# Format: [{"name": "VAR_NAME", "value": "var_value"}, ...]
customEnvVars: []
